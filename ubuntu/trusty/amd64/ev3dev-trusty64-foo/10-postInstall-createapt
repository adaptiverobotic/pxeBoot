#!/bin/dash
# -----------------------------------------------------------------------------
# 10-postInstall-createapt
#
# This is one of a series of scripts that live in /root/postInstall. They are
# placed there to avoid being read by casual users and are intended to be
# executed immediately after the VM is created to set up host specific 
# configuration.
#
# Just creates the basic /etc/atp/sources.list/d/* files needed for this VM
# -----------------------------------------------------------------------------

. /root/postInstall/postInstall-setupvars

# -----------------------------------------------------------------------------
# Create the basic apt list files here, don't worry about backups

echo "Create new /etc/apt/sources.list.d/dvd.list"

cat <<END-OF-FILE > /etc/apt/sources.list.d/dvd.list
# Autogenerated by /root/postInstall/10-postInstall-createapt - DO NOT CHANGE
#
deb http://192.168.56.1:8080/MEDIA/DISK01 trusty main
END-OF-FILE

# -----------------------------------------------------------------------------

echo "Create new /etc/apt/sources.list.d/ev3dev.list"

cat <<END-OF-FILE > /etc/apt/sources.list.d/ev3dev.list
# Autogenerated by /root/postInstall/10-postInstall-createapt - DO NOT CHANGE
#
deb http://ev3dev.org/debian trusty main
END-OF-FILE

apt-key adv --keyserver pgp.mit.edu --recv-keys 2B210565

# -----------------------------------------------------------------------------

echo "Create new /etc/apt/sources.list.d/ubuntu.list"

cat <<END-OF-FILE > /etc/apt/sources.list.d/ubuntu.list
# Autogenerated by /root/postInstall/10-postInstall-createapt - DO NOT CHANGE
#
deb http://mirror.csclub.uwaterloo.ca/ubuntu trusty         main universe
deb http://mirror.csclub.uwaterloo.ca/ubuntu trusty-updates main universe
END-OF-FILE

# -----------------------------------------------------------------------------
